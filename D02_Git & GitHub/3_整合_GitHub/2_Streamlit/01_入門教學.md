# Streamlit

_å°ˆç‚ºå»ºç«‹æ•¸æ“šæ‡‰ç”¨ç¨‹å¼è€Œè¨­è¨ˆçš„ Python æ¡†æ¶_

<br>

## ç°¡ä»‹

1. [å®˜æ–¹æ–‡ä»¶](https://docs.streamlit.io/library/get-started)ã€‚

<br>

2. GitHub èˆ‡å„ç¨®é›²ç«¯çš„ä¸²æ¥å¾ˆå¤šï¼ŒStreamlit åªæ˜¯å…¶ä¸€ã€‚

<br>

3. Streamlit ç™¼ä½ˆæ–¼ 2019ï¼Œå¾ˆå¹´è¼•çš„å‡½å¼åº«ã€‚

<br>

## é–‹å§‹

_ä»¥ä¸‹å¯¦ä½œåœ¨ Codespace æˆ–æœ¬åœ° VScode ä¸Šé–‹ç™¼çš†å¯ã€‚_

<br>

1. å®‰è£ï¼šéœ€è¦ä¸€æ®µæ™‚é–“ï¼Œå› ç‚ºæœƒé™„å¸¶å¾ˆå¤šè³‡æ–™ç§‘å­¸ç›¸é—œå¥—ä»¶å¦‚ numpyã€‚

   ```bash
   pip install streamlit
   ```

<br>

2. å‡ºç¾ä»¥ä¸‹è­¦å‘Šï¼šæè¿°èªªå¥—ä»¶å·²ç¶“æˆåŠŸå®‰è£ï¼Œä½†æ˜¯æœ‰äº›å‘½ä»¤è¡Œè…³æœ¬è¢«å®‰è£åœ¨ã€‚

   ![](images/img_01.png)

   ```bash
   # ç”¨æ–¼å°‡ Fortran ä»£ç¢¼ç¶å®šåˆ° Pythonï¼Œå¾è€Œå…è¨±å¾Pythonèª¿ç”¨ Fortran å‡½æ•¸
   keygenf2py
   # ä¾†è‡ª PygmentsåŒ…ï¼Œç”¨æ–¼å°‡æºä»£ç¢¼é«˜äº®é¡¯ç¤ºç‚ºå½©è‰²æ–‡æœ¬æˆ– HTML
   pygmentize
   # ç”¨æ–¼å°‡ Markdown æ–‡æœ¬è½‰æ›ç‚º HTML
   markdown-it
   # ç”¨æ–¼é©—è­‰ JSON å°è±¡æ˜¯å¦æ»¿è¶³ç‰¹å®šçš„ JSON æ¨¡å¼
   jsonschema
   # ä¾†è‡ª watchdog åŒ…ï¼Œç”¨æ–¼ç›£æ§æ–‡ä»¶ç³»çµ±äº‹ä»¶
   watchmedo
   # ç”¨æ–¼å¿«é€Ÿå»ºç«‹æ•¸æ“šæ‡‰ç”¨çš„Webæ‡‰ç”¨
   streamlit
   ```

<br>

3. ç¢ºèªæ˜¯å¦å®‰è£å®Œæˆã€‚

   ```bash
   streamlit --version
   ```

   æˆ–

   ```bash
   streamlit hello
   ```

<br>

4. å®‰è£å¥½çš„æ™‚å€™æœƒé¡¯ç¤ºæ‰¾ä¸åˆ°åŸ·è¡Œæª”æ¡ˆã€‚

   ![](images/img_02.png)

<br>

## ç·¨è¼¯ç’°å¢ƒåƒæ•¸

1. ç·¨è¼¯ç’°å¢ƒåƒæ•¸çš„è¨­å®šæª”æ¡ˆã€‚

   ```bash
   sudo nano ~/.bashrc
   ```

<br>

2. åŠ åœ¨æœ€å¾Œå³å¯ã€‚

   ```bash
   export PATH="$PATH:<è­¦å‘Šè¨Šæ¯ä¸­æç¤ºè¦åŠ å…¥ç’°å¢ƒåƒæ•¸çš„è·¯å¾‘>"
   ```
   å¦‚   

   ```bash
   export PATH="$PATH:/home/sam6238/.local/bin"
   ```

<br>

3. å­˜æª”å¾Œé‡æ–°åŠ è¼‰ `.bashrc` è®“è¨­å®šç”Ÿæ•ˆã€‚

   ```bash
   source ~/.bashrc
   ```

<br>

## æ¸¬è©¦

1. å†æ¬¡æ¸¬è©¦ã€‚
   
   ```bash
   streamlit hello
   ```

<br>

2. è‹¥æ˜¯åœ¨æ¨¹è“æ´¾ä¸Šé‹è¡Œæœƒå‡ºç¾ï¼šæ¨¹è“æ´¾è‡ªå‹•é–‹å•Ÿç¶²é ã€‚

   ![](images/img_03.png)

<br>

3. å‡å¦‚ä¸æ˜¯åœ¨æ¨¹è“æ´¾ä¸Šé‹è¡Œã€‚
   
   ![](images/img_04.png)

<br>

4. [é–‹å•Ÿç¶²å€](http://192.168.1.217:8501)ã€‚

   ![](images/img_05.png)

<br>

_ğŸ”º ä»¥ä¸Šå®Œæˆå¥—ä»¶çš„å®‰è£  ğŸ”» ä»¥ä¸‹é–‹å§‹å»ºç«‹è‡ªå·±çš„ç¶²ç«™_

<br>

## å»ºç«‹ç¶²ç«™æª”æ¡ˆ

1. å»ºç«‹ä¸€å€‹å°ˆæ¡ˆè³‡æ–™å¤¾ï¼šå»ºè­°ä¸è¦å°‡å°ˆæ¡ˆè³‡æ–™å¤¾æ”¾åœ¨ Git å€‰åº«çš„å­è³‡æ–™å¤¾å…§ï¼Œå› ç‚ºåµŒå¥—çš„ Git éœ€è¦æ›´å¤šçš„ä½¿ç”¨ç¶“é©—ä»¥åŠæŠ€å·§ã€‚

   ```bash
   mkdir <å°ˆæ¡ˆè³‡æ–™å¤¾> && cd <å°ˆæ¡ˆè³‡æ–™å¤¾>
   ```

<br>

2. æ·»åŠ å°ˆæ¡ˆæª”æ¡ˆï¼Œåç¨±å¯ä»¥è‡ªè¨‚ï¼Œä¸€èˆ¬ä½¿ç”¨ `app.py`ã€‚

   ```python
   import streamlit as st
   st.title('æˆ‘çš„ç¬¬ä¸€å€‹ Streamlit æ‡‰ç”¨')
   st.write('æ‚¨å¥½ï¼Œæ­¡è¿ä½¿ç”¨ Streamlitï¼')
   # ä½¿ç”¨è€…è¼¸å…¥
   user_input = st.text_input('è«‹è¼¸å…¥ä¸€äº›æ–‡å­—')
   st.write('æ‚¨è¼¸å…¥çš„æ–‡å­—æ˜¯ï¼š', user_input)
   # æ•¸å­—æ»‘æ¡†
   number = st.slider('é¸æ“‡ä¸€å€‹æ•¸å­—', min_value=1, max_value=100)
   st.write('æ‚¨é¸æ“‡çš„æ•¸å­—æ˜¯ï¼š', number)
   ```

<br>

3. é—œæ–¼è…³æœ¬å¿«é€Ÿéµè«‹åƒè€ƒ ` å»ºç«‹ Snippets ` ä»‹ç´¹ã€‚

<br>

4. åœ¨çµ‚ç«¯æ©Ÿè¦é€éåŸ·è¡Œæª”æ¡ˆèª¿ç”¨è…³æœ¬ã€‚

   ```bash
   streamlit run app.py
   ```

   ![](images/img_06.png)

<br>

5. é–‹å•Ÿç¶²å€ã€‚

   ![](images/img_07.png)

<br>

## åœ¨ Codespace ä¸­é‹è¡Œ Streamlit

_è¨­ç½®ç’°å¢ƒè®Šæ•¸_

<br>

### è¨­ç½®ç’°å¢ƒè®Šæ•¸

1. æŸ¥è©¢åœ¨ Codespace ä¸­çš„å®‰è£è·¯å¾‘ã€‚

   ```bash
   find ~/.local -name streamlit
   ```
   çµæœ

   ![](images/img_82.png)

<br>

2. åŠ å…¥ç’°å¢ƒåƒæ•¸ã€‚

   ```bash
   echo 'export PATH=$PATH:/home/codespace/.local/lib/python3.10/site-packages/bin/' >> ~/.bashrc
   ```

<br>

3. å¯é€éæŒ‡ä»¤è§€å¯Ÿã€‚

   ```bash
   cat ~/.bashrc
   ```

   å¦‚ä¸‹

   ![](images/img_83.png)

<br>

4. è¼‰å…¥è¨­å®šã€‚

   ```bash
   source ~/.bashrc
   ```

<br>

5. åœ¨ Codespace ä¸­æœƒè‡ªè¨‚è½‰æ¥åŸ ã€‚

   ![](images/img_84.png)

<br>

6. é»æ“Šåœ¨ç€è¦½å™¨ä¸­é–‹å•Ÿã€‚

   ![](images/img_80.png)

<br>

7. è‹¥è¦åœæ­¢é‹è¡Œï¼Œåœ¨çµ‚ç«¯æ©ŸæŒ‰ä¸‹ `CTRL` + `C`ã€‚

   ![](images/img_79.png)

<br>

### ç‰¹æ®Šç‹€æ³

_è‹¥éœ€è¦æ‰‹å‹•é–‹å•Ÿå…è¨± IP é€£æ¥_

<br>

1. é€²å…¥é…ç½®æª”æ¡ˆã€‚

   ```bash
   cd ~/.streamlit
   ```

<br>

2. å‡å¦‚ä¸å­˜åœ¨ï¼Œé–‹å•Ÿçµ‚ç«¯æ©Ÿå»ºç«‹é…ç½®æª”æ¡ˆã€‚

   ```bash
   mkdir ~/.streamlit
   ```

<br>

3. ç·¨è¼¯è¨­å®šæª”æ¡ˆã€‚

   ```bash
   code config.toml
   ```

<br>

4. åŠ å…¥ä»¥ä¸‹å…§å®¹ã€‚

   ```ini
   [server]
   enableCORS = false
   enableXsrfProtection = false
   ```

<br>

5. é‡æ–°é‹è¡Œ Streamlit å°ˆæ¡ˆã€‚

   ```bash
   streamlit run <å°ˆæ¡ˆ.app>
   ```

<br>

___

_END_