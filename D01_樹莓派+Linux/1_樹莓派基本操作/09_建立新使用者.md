# 建立新使用者

<br>

## 補充說明

_`家目錄` 與 `home 目錄` 所指是不同的資料夾_

<br>

1. 在 Linux 系統中，`家目錄（Home Directory）` 是指每個使用者的個人目錄。例如，使用者 `sam` 的 `家目錄` 是 `/home/sam`，也可以波浪號 `~` 來表示。

2. 另外，`home 目錄` 是 `家目錄的父目錄`，它包含了所有使用者的家目錄，是所有用戶家目錄的集合，也是所有用戶家目錄的根目錄。

<br>

## 建立並加入 sudo

1. 切換到 `家目錄` 的 `根目錄`。
    
    ```bash
    cd /home
    ```

<br>

2. 查詢當前有哪些用戶，在截圖中顯示的是當前僅有一個用戶 `sam6238`。

    ```bash
    ls -al
    ```

    ![](images/img_501.png)

<br>

3. 建立（添加）用戶，輸入兩次密碼後，其餘設定都按下 `ENTER`，最後輸入 `y` 即可。

    ```bash
    sudo adduser <自訂使用者名稱>
    # 假如建立的是 `sam6239`
    sudo adduser sam6239
    ```

    ![](images/img_502.png)

<br>

4. 在新的樹莓派系統 `Bookwarm` 中，建立使用者的時候會自動將其加入群組 `users` 中，這是一個基礎的群組，讓所有使用者可共享基本的資源與權限。

    ![](images/img_59.png)

<br>

5. 可在 `home 目錄` 查看新添加的使用者。

    ```bash
    ls -al
    ```

    ![](images/img_503.png)

<br>

6. 查詢使用者所屬群組，群組的成員將擁有相應的權限；在輸出的訊息中，其中第一個 `sam6239` 是使用者名稱，第二個同名群組代表該用戶的 `專屬主群組`，而 `users` 則是 `普通使用者群組`；由此可知，添加新的用戶後，該新用戶並不隸屬於任何特定群組，也就是不具備其他的權限。
    
    ```bash
    groups <使用者名稱>
    # 本範例
    groups sam6239
    ```

    ![](images/img_504.png)

<br>

7. 使用指令 `su` 可切換使用者。

    ```bash
    su <使用者名稱>
    ```

    _可觀察到命令行前綴會標示新的使用者帳號_

    ![](images/img_505.png)

<br>

8. 將指定的使用者 sam6239 加入 root 群組。
    
    ```bash
    sudo usermod -a -G sudo sam6239
    ```

    ![](images/img_60.png)

<br>

## 指令參數說明。

1. 彙整以上指令如下。

    | 指令     | 說明                                       |
    |----------|--------------------------------------------|
    | `sudo`   | Super User Do                              |
    | `usermod`| 用來修改帳戶設定的命令，modify的意思         |
    | `-a`     | 將用戶添加到一個群組<br>與 -G 共用的時候就是加入 -G 後面的列表 |
    | `-G`     | 加入一個或多個組的列表                       |
    | `sam6239`| 這個指令要將目標帳號放在最後                 |

<br>

## 觀察與驗證

1. 確認所在群組。

    ```bash
    groups <使用者名稱>
    ```

<br>

2. 在舊版系統中，切換帳號時會出現提示。

    ```bash
    su <使用者名稱>
    ```

    ![](images/img_506.png)

<br>

3. 切換到新用戶的家目錄中，可透過指令 `ls` 或 `tree` 查看新用戶 `sam6239` 的家目錄，可發現裡面空無一物。

    ```bash
    cd ~ && tree
    ```

    ![](images/img_507.png)

<br>

## 預設使用者所屬群組

_透過指令 `groups` 可觀察預設使用者所屬的群組，在這裡是使用者 `sam6238`_

![](images/img_121.png)

<br>

1. adm：系統管理員組，允許查看許多系統日誌文件。

<br>

2. dialout：授予撥號設備的訪問權限，通常用於串行端口和調製解調器。

<br>

3. cdrom：允許訪問 CD-ROM 驅動器。

<br>

4. sudo：允許成員使用 `sudo` 命令，以超級用戶權限執行命令。

<br>

5. audio：允許訪問音頻設備。

<br>

6. video：允許訪問視頻設備。

<br>

7. plugdev：允許訪問可插拔設備（如 USB 設備）。

<br>

8. games：允許訪問某些遊戲資源和文件。

<br>

9. users：一般用戶組，通常用於一般權限的用戶。

<br>

10. input：允許訪問輸入設備（如鍵盤和鼠標）。

<br>

11. render：授予渲染設備的訪問權限，通常與圖形渲染相關。

<br>

12. netdev：允許成員管理網絡設備。

<br>

13. lpadmin：允許成員管理打印機和相關資源。

<br>

14. gpio：允許訪問和控制 GPIO（通用輸入輸出）接口。

<br>

15. i2c：允許訪問 I2C 界面，用於控制 I2C 設備。

<br>

16. spi：允許訪問 SPI 界面，用於控制 SPI 設備。

<br>

## 說明

1. 這是因為在 Linux 系統（如樹莓派）上建立一個新的帳戶時，系統會根據 `/etc/skel`目錄中的模板來建立新用戶的家目錄。

<br>

2. `/etc/skel` 目錄通常包含了一些基礎的配置文件和目錄結構。

<br>

3. 若要在建立用戶的時候，給每一個新用戶固定的初始好環境，可以編輯該檔案

<br>

___

_END：請進入下一小節繼續_