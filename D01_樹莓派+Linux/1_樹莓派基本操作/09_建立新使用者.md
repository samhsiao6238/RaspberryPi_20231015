# 建立新使用者

<br>

## 補充說明

1. 在 Linux 系統中，`家目錄（Home Directory）` 是指每個使用者的個人目錄。例如，使用者 `sam` 的 `家目錄` 是 `/home/sam`，也可以波浪號 `~` 取代。

2. 另外，`/home 目錄` 是 `家目錄的父目錄`，它包含了所有使用者的家目錄，是所有用戶家目錄的集合，也是所有用戶家目錄的根目錄。

<br>

## 建立並加入 sudo

1. 切換到 `家目錄` 的 `根目錄`。
    
    ```bash
    cd /home
    ```

<br>

2. 查詢當前用戶。

    ```bash
    ls -al
    ```

    ![](images/img_501.png)

<br>

3. 建立（添加）用戶。

    ```bash
    sudo adduser <自訂使用者名稱>
    ```

    ![](images/img_502.png)

<br>

4. 在新的系統中，建立使用者的時候會自動添加一個群組 `users`，並將新的使用者加入該群組。

    ![](images/img_59.png)

<br>

5. 可在 `Home 目錄` 查看新添加的使用者。

    ```bash
    ls -al
    ```

    ![](images/img_503.png)

<br>

6. 查詢使用者所屬群組，群組的成員將擁有相應的權限；在輸出的訊息中，其中第一個 `sam6239` 是使用者名稱，第二個同名群組代表該用戶的 `專屬主群組`，而 `users` 則是 `普通使用者群組`；由此可知，添加新的用戶後，該新用戶並不隸屬於任何特定群組，也就是不具備其他的權限。
    
    ```bash
    groups <使用者名稱>
    # 本範例
    groups sam6239
    ```

    ![](images/img_504.png)

<br>

7. 使用指令 `su` 可切換使用者。

    ```bash
    su <使用者名稱>
    ```

    _可觀察到命令行前綴會標示新的使用者帳號_

    ![](images/img_505.png)

<br>

8. 將指定的使用者 sam6239 加入 root 群組。
    
    ```bash
    sudo usermod -a -G sudo sam6239
    ```

    ![](images/img_60.png)

<br>

## 指令參數說明。

1. 彙整以上指令如下。

    | 指令     | 說明                                       |
    |----------|--------------------------------------------|
    | `sudo`   | Super User Do                              |
    | `usermod`| 用來修改帳戶設定的命令，modify的意思         |
    | `-a`     | 將用戶添加到一個群組<br>與 -G 共用的時候就是加入 -G 後面的列表 |
    | `-G`     | 加入一個或多個組的列表                       |
    | `sam6239`| 這個指令要將目標帳號放在最後                 |

<br>

## 觀察與驗證

1. 確認所在群組。

    ```bash
    groups <使用者名稱>
    ```

<br>

2. 在舊版系統中，切換帳號時會出現提示。

    ```bash
    su <使用者名稱>
    ```

    ![](images/img_506.png)

<br>

3. 切換到新用戶的家目錄中，可透過指令 `ls` 或 `tree` 查看新用戶 `sam6239` 的家目錄，可發現裡面空無一物。

    ```bash
    cd ~ && tree
    ```

    ![](images/img_507.png)

<br>

## 說明

1. 這是因為在 Linux 系統（如樹莓派）上建立一個新的帳戶時，系統會根據 `/etc/skel`目錄中的模板來建立新用戶的家目錄。

<br>

2. `/etc/skel` 目錄通常包含了一些基礎的配置文件和目錄結構。

<br>

3. 若要在建立用戶的時候，給每一個新用戶固定的初始好環境，可以編輯該檔案

<br>

___

_END：請進入下一小節繼續_