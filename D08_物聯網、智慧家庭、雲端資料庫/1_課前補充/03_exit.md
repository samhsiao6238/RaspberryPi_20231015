# 退出程序

_Python 中的 `exit()` 和 `sys.exit()`_

<br>

## 說明

1. 來源
   
   - `exit()` 是一個內建函數，可在 Python 解釋器中直接使用，常見於互動模式和腳本中。
   - `sys.exit()` 是 `sys` 模塊的一部分，需要先導入 `sys` 模塊才能使用。

<br>

2. 用途

   - `exit()` 主要用於互動模式，例如 Python shell 或 Jupyter notebooks，它是為了方便在這些環境中快速退出而設計的。
   - `sys.exit()` 用於在程序中結束程序執行，並可選擇性地返回一個給操作系統的退出代碼，適用於較大的 Python 程序和應用程序。

<br>

3. 退出代碼

   - 使用 `sys.exit()`, 可以指定一個退出代碼，用於告知操作系統程序是成功結束還是遇到錯誤，例如 `sys.exit(0)` 表示成功結束，而 `sys.exit(1)` 或其他非零值表示有錯誤發生，詳見下一個部分說明。
   - `exit()` 不支持退出代碼，通常只用於終止程序。

<br>

4. 異常處理

   - `exit()` 與 `sys.exit()` 都會引發 `SystemExit` 例外，這部分並無差異。

<br>

## 退出代碼

1. 無論是否發生錯誤皆可使用例外處理對退出代碼進行捕捉。

    ```python
    import sys

    try:
        # 程序邏輯
        # ...
        # 模擬一個錯誤情況
        sys.exit(1)  

    except SystemExit as e:
        print(f'捕捉到退出代碼: {e.code}')
        # 根據退出代碼進行相應處理
        if e.code != 0:
            print("程序遇到錯誤")
        else:
            print("程序正常結束")
    ```

<br>

## 結論

在互動環境如筆記本中撰寫程序時可直接使用 `exit()` 快速進行調試，而在正式的腳本或應用程序中，建議使用 `sys.exit()`，因為它提供了更多控制和可用於標準化程序退出方式的選項。

---

_END_