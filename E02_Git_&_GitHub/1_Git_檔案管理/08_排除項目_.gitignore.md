# .gitignore 檔案

當需要排除 Git 追蹤的特定檔案或目錄時，可以使用 `.gitignore` 檔案。

## 使用情境

以下情況可能需要建立 `.gitignore` 排除清單：
1. 當同步的檔案太大（超過 100 MB）
2. 某些檔案或目錄不應被追蹤

檔案過大時的錯誤訊息會顯示於此。

## 步驟

1. 在 repo 的根目錄建立 `.gitignore` 檔案：

    ```bash
    touch .gitignore
    ```

2. 若要排除特定的檔案類型，例如 `.zip` 和 `.jar`，在 `.gitignore` 內添加以下內容：

    ```
    00_projects/**/*.zip
    00_projects/**/*.jar
    ```

3. 若已追蹤了這些檔案，需先移除追蹤：

    ```bash
    git rm --cached 00_projects/**/*.zip
    git rm --cached 00_projects/**/*.jar
    ```

4. 留意套件生成的 log 檔案，例如 `HiveMQ`。這些檔案若不排除，會不斷增加。

5. 若想排除特定路徑下的所有檔案，使用 `/**` 表示。例如：

    ```
    00_projects/26_HiveMO/hivemq-4.18.0/data/persistence/retained_messages/**
    ```

6. 提交 `.gitignore`：

    ```bash
    git add .gitignore
    git commit -m "GOOD"
    git push origin main
    ```

7. 若遇到已有 commit 排在前面的情況，可以選擇強制推送：

    ```bash
    git push -f
    ```

    或是撤銷指定的 commit：

    ```bash
    git revert <commit_id>
    ```

8. 查看最後一次的 commit：

    ```bash
    git show HEAD
    ```

9. 查詢本地未同步到遠端的 commit：

    ```bash
    git log origin/<branch_name>..<branch_name>
    ```

    舉例：

    ```bash
    git log origin/main..main
    ```

10. 若需要，可以強制添加某個目錄進行追蹤：

    ```bash
    git add -f <specific_directory>
    ```

---

END