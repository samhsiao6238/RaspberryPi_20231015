# 開放區網訪問

讓樹梅派可從區網其他裝置訪問

<br>

## 說明

1. 要讓 Flask 應用在網路上被其他裝置訪問，需要在啟動 Flask 伺服器時將主機設定為公共 IP 地址 `0.0.0.0`，而不是 `預設的本地主機 IP 地址 127.0.0.1`。

<br>

2. 以下設定可讓 Flask 伺服器接受來自任何 IP 地址的連接：

    ```python
    if __name__ == '__main__':
        app.run(host='0.0.0.0', port=5000, debug=True)
    ```

<br>

3. 區網訪問可透過以下網址訪問

    ```bash
    http://<樹莓派 IP>:5000
    ```
    如
    ```bash
    http://192.168.1.135:5000
    ```

<br>

## 防火牆

1. 開放防火牆

   _如果遇到防火牆擋住訪問，可透過 `ufw` 開放特定的端口_

   ```bash
   sudo ufw allow 5000
   ```

2. 指定端口

   _可以在 `app.py` 中指定一個不同的端口_

   ```python
   if __name__ == "__main__":
       app.run(host='0.0.0.0', port=8080)
   ```

3. 在有防火牆的情況下，如果使用不同的端口，也要設定開放該端口的訪問

   ```bash
   sudo ufw allow 8080
   ```

   訪問時指定新的端口

   ```
   http://<樹莓派網址>:8080/
   ```

<br>

---

_END_