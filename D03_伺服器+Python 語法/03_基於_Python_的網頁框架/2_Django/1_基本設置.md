_èª²å¾Œè£œå……_

# Django æ¶è¨­ç¶²ç«™

_ä½¿ç”¨é è¨­çš„ Python å»ºç«‹è™›æ“¬ç’°å¢ƒ_

_æ¯”å¦‚èªª_

```bash
/usr/bin/python -m venv envDjango
```

_å•Ÿå‹•_

```bash
source envDjango/bin/activate
```


<br>

## èªªæ˜

1. åƒè€ƒ [å®˜ç¶²](https://www.djangoproject.com/)

2. é€™æ˜¯å®˜ç¶²æ‰€å»ºè­°çš„å°ˆæ¡ˆçµæ§‹

    ![](images/img_01.png)

<br>

## é–‹å§‹

1. æ›´æ–°
   
    ```bash
    sudo apt update && sudo apt upgrade -y
    ```

2. å®‰è£

    ```bash
    pip install django
    ```

3. è‹¥æŒ‰è£æ™‚å‡ºç¾ SSL ç›¸é—œéŒ¯èª¤ï¼Œå¯ä»¥é‡æ–°å®‰è£ SSL

    _è‹¥å®Œæˆä»¥ä¸‹æ­¥é©Ÿé‚„æ˜¯å‡ºéŒ¯ï¼Œå¯èƒ½è¦é‡æ–°ç·¨è­¯ Pythonï¼Œå»ºè­°ä½¿ç”¨é è¨­ç‰ˆæœ¬_

    ```bash
    sudo apt-get install -y libssl-dev libffi-dev python3-dev
    ```
    _æ¸¬è©¦æ˜¯å¦å®‰è£å¥½_
    ```bash
    python3.9 -c "import ssl; print(ssl.OPENSSL_VERSION)"
    ```
    
    ![](images/img_34.png)

    _ç„¶å¾Œé‡æ–°åŸ·è¡Œå®‰è£æŒ‡ä»¤_

    ```bash
    pip install django
    ```

4. å»ºç«‹ä¸¦é€²å…¥å°ˆæ¡ˆè³‡æ–™å¤¾

    ```bash
    mkdir mydjango_01 && cd mydjango_01
    ```

5. åœ¨å°ˆæ¡ˆç›®éŒ„å…§å»ºç«‹ç«™å° `mysite`ï¼Œä¸¦ä¸”é€²å…¥ç›®éŒ„

    ```bash
    django-admin startproject mysite && cd mysite
    ```

6. åˆ°é€™è£¡å…ˆæš«ç·©ï¼Œé€€åˆ°å°ˆæ¡ˆæ ¹ç›®éŒ„å¾ŒåŸ·è¡Œ `tree` æŸ¥çœ‹ä¸€ä¸‹
   
   ![](images/img_02.png)

    - åœ¨ç«™å°è³‡æ–™å¤¾ `mysite` ä¹‹ä¸‹æœ‰ä¸€å€‹åŒåå­è³‡æ–™å¤¾ï¼Œé€™æ˜¯ç”¨ä¾†å­˜æ”¾è¨­å®šæ–‡ä»¶çš„è³‡æ–™å¤¾ã€‚

7. é€²å…¥å¤–å±¤çš„ç«™å°è³‡æ–™å¤¾ï¼Œä»¥é€™å€‹ç¯„ä¾‹ä¾†èªªå°±æ˜¯ `mysite`ã€‚

    ```bash
    cd ~/Documents/mydjango_01/mysite
    ```

8. åœ¨å¤–å±¤ç«™å°çš„è³‡æ–™å¤¾ä¸‹åŸ·è¡Œé·ç§»æŒ‡ä»¤

    ```bash   
    python manage.py migrate
    ```

    ![](images/img_03.png)


9. å•Ÿå‹•ç«™å°

    ```bash   
    python manage.py runserver
    ```

10. é è¨­ä½¿ç”¨ `8000` ç«¯å£
    
    ![](images/img_4.png)

11. åœ¨æ¨¹è“æ´¾ä¸Šä½¿ç”¨ç€è¦½å™¨é–‹å•Ÿç¶²é  `localhost:8000`
    
    ![](images/img_05.png)

12. å‡å¦‚è¦æ›´æ›å…¶ä»–ç«¯å£

    ```bash
    python manage.py runserver 8001
    ```

13. è‹¥è¦å¾å€ç¶²è¨ªå•ï¼ŒåŸ·è¡Œå‘½ä»¤æ”¹ç‚º
    
    ```bash
    python manage.py runserver <æ¨¹è“æ´¾IP>:8000
    ```
    å¦‚ ip æ˜¯ `192.168.1.134`æ™‚

    ![](images/img_39.png)

14. å†æ¬¡å•Ÿå‹•æ‡‰è©²æœƒçœ‹åˆ°ä»¥ä¸‹éŒ¯èª¤
    
    ![](images/img_40.png)

15. é€™æ™‚è¦ä¿®æ”¹ç«™å°è¨­å®šè³‡æ–™å¤¾å…§çš„ `settings.py`
    
    ![](images/img_41.png)

16. åŠ å…¥ `æ¨¹è“æ´¾ IP`ï¼Œé€™æ˜¯ä¸€å€‹å­—ä¸²ï¼Œæ‰€ä»¥è¦ç”¨å¼•è™ŸåŒ…è¦†ã€‚
    
    ![](images/img_42.png)
    
17. ç„¡éœ€é·ç§»ï¼Œé‡å•Ÿç«™å°å³å¯ã€‚
    
    ```bash
    python manage.py runserver <æ¨¹è“æ´¾IP>:8000
    ```

<br>

## å»ºç«‹ç¶²ç«™å…§å®¹

_å…ˆç¢ºèªå·²ç¶“å…¥ç«™å°è³‡æ–™å¤¾_

1. åœ¨ç«™å°å…§å»ºç«‹ä¸€å€‹ App

    ```python
    python manage.py startapp <è‡ªè¨‚Appåç¨±>
    ```
    å¦‚
    ```python
    python manage.py startapp myApp_01
    ```

1. è§€å¯Ÿä¸€ä¸‹
   
   ![](images/img_06.png)

2. é–‹å•Ÿ App ä¸­çš„ `myApp_01` è£¡çš„ `views.py`
   
   ![](images/img_07.png)

3. è²¼ä¸Šä»¥ä¸‹ç¨‹å¼ç¢¼
   
    ```python
    # views.py
    from django.shortcuts import render
    def custom_page(request):
        return render(request, 'custom_page.html')
    # é€™å°±æ˜¯ index.html
    def home(request):
        return HttpResponse("æ­¡è¿ä¾†åˆ° Home!")
    ```
    - é€™è£¡å»ºç«‹äº†ä¸€å€‹ `custom_page` çš„å‡½æ•¸ï¼Œç”¨ä¾†æ¸²æŸ“ `custom_page.html` é€™å€‹ templateã€‚
    - ä¹Ÿå°±æ˜¯èª¿ç”¨çš„æ™‚å€™æœƒå‚³å› `custom_page.html` é€™å€‹è¶…æ–‡æœ¬ï¼Œä¸‹ä¸€æ­¥æœƒä¾†å»ºç«‹é€™å€‹è¶…æ–‡æœ¬ã€‚
    - å¦å¤–é¦–é å°±æ˜¯ä¸Šé¢çš„ `home`ï¼Œé€™è£¡ä¸å¦å¤–åš `.html`ï¼Œç¨å¾Œæ­¥é©Ÿæœƒç›´æ¥ç”¨æ–‡æœ¬è¨­å®šåœ¨ `views.py` è…³æœ¬ä¸­ï¼Œå¦‚æ­¤åŒå­¸ä¾¿å¯ç”¨ä¾†æ¯”å°å…©è€…çš„ä¸åŒä½œæ³•ã€‚

<br>

5. å»¶çºŒå‰ä¸€å€‹æ­¥é©Ÿï¼Œé€™è£¡è¦å…ˆåœ¨ `myApp_01` å…§å»ºç«‹ä¸€å€‹ `templates` çš„æ¨¡æ¿è³‡æ–™å¤¾

    ```bash
    mkdir templates && cd templates
    ```

6. æ¥è‘—åœ¨ `templates` è³‡æ–™å¤¾ä¸‹ï¼Œå»ºç«‹ `custom_page.html`

    ```bash
    touch custom_page.html
    ```

7. è²¼ä¸Šä»¥ä¸‹å…§å®¹

    ```html
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>My Custom Page</title>
    </head>
    <body>
        <h1>æ­¡è¿ä¾†åˆ°æˆ‘çš„ç¶²ç«™</h1>
        <p>é€™æ˜¯æˆ‘çš„ç¬¬ä¸€å€‹ Django ç¶²ç«™å…§å®¹</p>
    </body>
    </html>
    ```

8. æ¥è‘—é€²å…¥è¨­å®šè³‡æ–™å¤¾ `mysite` ï¼Œé–‹å•Ÿ `urls.py` è¨­ç½® URLã€‚

   ![](images/img_08.png)

9. ä¸è¦ä¿®æ”¹é€™å€‹ç®¡ç†ä»‹é¢çš„è·¯å¾‘è¨­ç½®
    
    ![](images/img_09.png)

10. ä¿®æ”¹è·¯å¾‘è¨­ç½®çš„åˆ—è¡¨å…§å®¹ï¼Œæ·»åŠ å…©å€‹è·¯å¾‘è¨­ç½®

    ```python
    urlpatterns = [
        path('admin/', admin.site.urls),
        path('custom/', views.custom_page, name='custom_page'),
        path('', views.home, name='home'),
    ]
    ```

11. ä¸¦å°‡ `views.py` å°å…¥
    
    ![](images/img_13.png)


12. ä¿®æ”¹å¥½ `urls.py` ä¹‹å¾Œï¼Œé‚„è¦ä¿®æ”¹å°æ‡‰çš„ `views.py` è¦–åœ–è¨­å®šæ–‡ä»¶ã€‚

    _æ–‡æœ¬_
    ```python
    from django.shortcuts import render
    from django.http import HttpResponse
    # 
    def custom_page(request):
        return render(request, 'custom_page.html')
    def home(request):
        return HttpResponse("æ­¡è¿ä¾†åˆ°æˆ‘çš„é¦–é  Home ğŸ ")
    ```
    _åœ–ç‰‡èªªæ˜_

    ![](images/img_15.png)

    - å‹™å¿…ç¢ºèªå‡½æ•¸ `custom_page` æ‰€å›å‚³çš„ç¬¬äºŒå€‹åƒæ•¸æ˜¯ `æª”æ¡ˆåç¨±` çš„å­—ä¸²ã€‚

<br>

13. å¦å¤–å‡½æ•¸ `home` å°±æ˜¯ç¶²ç«™çš„æ ¹è·¯ç”±ï¼Œç•¶ç„¶ä¹Ÿæ˜¯å¯ä»¥æ¯”ç…§ `custom_page` çš„æ–¹å¼æ¸²æŸ“ï¼Œé€™è£¡ä½¿ç”¨ `HttpResponse` è®“åŒå­¸å°ç…§æ¯”è¼ƒã€‚
    
    ![](images/img_14.png)

14. æ¥è‘—å»è¨­å®šè³‡æ–™å¤¾å…§ç·¨è¼¯è¨­å®šæª”æ¡ˆ `settings.py`ï¼Œæ‰¾åˆ° `INSTALLED_APPS` åˆ—è¡¨ï¼Œæ·»åŠ å‰é¢è‡ªè¨‚çš„æ‡‰ç”¨ `myApp_01` ã€‚
    
    ![](images/img_11.png)

15. ç¢ºèªå•Ÿç”¨æ¨¡æ¿è³‡æ–™ï¼Œéœ€åˆ° `TEMPLATES` åˆ—è¡¨ä¸­é–‹å•Ÿ `APP_DIRS` ç‚º `True` ã€‚
    
    ![](images/img_12.png)

16. é—œé–‰å·²ç¶“å•Ÿå‹•çš„ `8000` ç«¯å£æ‡‰ç”¨ï¼Œé‡æ–°å•Ÿå‹•ä¸€æ¬¡
    
    ```bash
    python manage.py runserver
    ```

17. é–‹å•Ÿç«™å°å¾Œï¼Œåœ¨æ ¹è·¯ç”±æœƒçœ‹åˆ° `HttpResponse` è¨­å®šçš„å…§å®¹ã€‚
    
    ![](images/img_16.png)

18. ç„¶å¾Œ `http://127.0.0.1:8000/custom/` æœƒçœ‹åˆ°é€éæ¸²æŸ“çš„ç¶²é ã€‚
    
    ![](images/img_17.png)

19. é€™å€‹å…§å®¹å°±æ˜¯åœ¨ `` æ‰€åšçš„ã€‚
    
    ![](images/img_18.png)

<br>

---

_END_