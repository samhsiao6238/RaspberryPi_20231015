#

## 使用 AJAX 來處理這個流程

    _確保請假表單提交後，先顯示警告，然後再關閉窗口，並在此過程中呼叫路由 `/submit_leave_form` 來發送 LINE 消息_


    ```javascript
    <script>
        function submitForm() {
            var data = {
                "user_id": $("#user_id").val(),
                "user_name": $("#user_name").val(),
                "group_id": $("#group_id").val(),
                //... 其他表單數據 ...
            };
            $.ajax({
                type: "POST",
                url: "/submit_leave_form",
                data: data,
                success: function (response) {
                    alert("請假成功!");
                    window.close();
                },
                // error: function(error) {
                //     alert("請假失敗!");
                // }
                error: function (jqXHR, textStatus, errorThrown) {
                    if (jqXHR.responseJSON && jqXHR.responseJSON.message) {
                        alert(jqXHR.responseJSON.message);
                    } else {
                        // alert("請假失敗!");
                        // 其他錯誤先不處理
                    }
                }
            });
            return false; // 阻止表單的預設提交行為
        }
    </script>
    ```